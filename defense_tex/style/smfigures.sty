%% ############################################################################
%%
%% Sebastian's figures
%%
%% ############################################################################
%%
%%
%%
%% ############################################################################

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{smfigures}[2020-08-09]


% for \ifcsundef
\RequirePackage{etoolbox}

% figures numbered by "2.2.A", "2.2.B", "2.3.A" and so on (Chapter.Section.FigureWithinSection)
% \RequirePackage{chngcntr} % already loaded!?
\counterwithin{figure}{section}

\ifcsundef{chapter}{%
    % chapter is NOT defined
    \renewcommand{\thefigure}{\arabic{section}.\alph{figure}}%
}%
{%
    % chapter is defined
    \renewcommand{\thefigure}{\arabic{chapter}.\arabic{section}.\alph{figure}}%
}%

% subfigures labeles with "a)", "b)", and so on
\RequirePackage{subcaption}
\captionsetup[subfigure]{labelformat=simple}
\renewcommand\thesubfigure{\roman{subfigure})}
\renewcommand\p@subfigure{\thefigure.}


\endinput
